<?php

/**
 * trdShaiwuProductContentTable
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 */
class trdShaiwuProductContentTable extends Doctrine_Table
{
    /**
     * Returns an instance of this class.
     *
     * @return object trdShaiwuProductContentTable
     */
    public static function getInstance()
    {
        return Doctrine_Core::getTable('trdShaiwuProductContent');
    }


    # 获取晒物内容
    public function getContentById( $id = null )
    {
        $data = CacheModel::getCache();
        if( empty($data) )
        {
            # 获取晒物内容
            $tmp = self::getInstance()->createQuery('t')->where('product_id = ?',$id)->fetchArray();
            $data['content'] = !empty($tmp[0]['content']) ? $tmp[0]['content'] : null;
            $data['urls'] = !empty($tmp[0]['urls']) ? $tmp[0]['urls'] : null;
            CacheModel::setCache($data,60);
        }
        return $data;
    }

}