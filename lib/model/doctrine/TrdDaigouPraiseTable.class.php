<?php

/**
 * TrdDaigouPraiseTable
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 */
class TrdDaigouPraiseTable extends Doctrine_Table
{
    /**
     * Returns an instance of this class.
     *
     * @return object TrdDaigouPraiseTable
     */
    public static function getInstance()
    {
        return Doctrine_Core::getTable('TrdDaigouPraise');
    }
    
     //点赞
    public static function getPraiseInfoByProductId($product_id,$uid){
        if (!$product_id || !$uid) return false;
        return self::getInstance()->createQuery('t')
                ->select('t.id')
                ->where('t.is_delete = 0')
                ->andWhere('t.product_id = ?',$product_id)
                ->andWhere('t.hupu_uid = ?',$uid)
                ->fetchOne();
    }
    
    //获取点赞列表
    public static function getPraiseInfoByUd($uid){
        if (!$uid) return false;
        return self::getInstance()->createQuery('t')
                ->select('t.product_id')
                ->where('t.is_delete = 0')
                ->andWhere('t.hupu_uid = ?',$uid)
                ->fetchArray();
    }
}