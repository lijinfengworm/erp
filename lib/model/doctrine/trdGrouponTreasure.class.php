<?php

/**
 * trdGrouponTreasure
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 * 
 * @package    HC
 * @subpackage model
 * @author     HoopChina.com Dev Team
 * @version    SVN: $Id: Builder.php 7490 2010-03-29 19:53:27Z jwage $
 */
class trdGrouponTreasure extends BasetrdGrouponTreasure
{
    public static  $formatStatus = array(
        1 => '待审核',
        2 => '已通过',
        3 => '已过期',
        4 => '未通过',
    );


    public function getFormatStatus()
    {
        switch ($this->getStatus())
        {
            case 1:
                return '待审核';
                break;
            case 2:
                return '已审核';
                break;
            case 3:
                return '已过期';
                break;
			case 4:
				return '未通过';
				break;
            default:
                return '未知';
        }
    }


    public function getImagePath($width = NULL,$height = NULL)
    {
        $pic_attr = json_decode($this->pic_attr, true);
        if(isset($pic_attr['normal_img'])){
            $imagePath = array_shift($pic_attr['normal_img']);

            if($width && $height) $imagePath .= "?imageView2/1/w/{$width}/h/{$height}";
        }else{
            $imagePath = '';
        }

        return $imagePath;
    }


}
