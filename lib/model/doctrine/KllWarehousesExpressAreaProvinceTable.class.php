<?php

/**
 * KllWarehousesExpressAreaProvinceTable
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 */
class KllWarehousesExpressAreaProvinceTable extends Doctrine_Table
{
    /**
     * Returns an instance of this class.
     *
     * @return object KllWarehousesExpressAreaProvinceTable
     */
    public static function getInstance()
    {
        return Doctrine_Core::getTable('KllWarehousesExpressAreaProvince');
    }
    public static function insertProvince($wareExpressAreaId, $wareExpressId,  $provinces){

        $oldProvinces = self::getInstance()->findByWareExpressAreaId($wareExpressAreaId);
        if(!empty($oldProvinces)){
            $oldProvinces->delete();
        }
        $province = new KllWarehousesExpressAreaProvince();
        if(!empty($provinces) && isset($provinces['province'])){
            foreach ($provinces['province'] as $item){
                $province = new KllWarehousesExpressAreaProvince();
                $province->setWareExpress($wareExpressId)
                    ->setWareExpressAreaId($wareExpressAreaId)
                    ->setProvince($item)
                    ->save();
            }
        }

        return true;
    }
}