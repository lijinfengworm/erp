<?php

/**
 * KllBBMqTable
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 */
class KllBBMqTable extends Doctrine_Table
{
    /**
     * Returns an instance of this class.
     *
     * @return object KllBBMqTable
     */
    public static function getInstance()
    {
        return Doctrine_Core::getTable('KllBBMq');
    }
    //获得小心
    public static function getByOrderNumber($order_number, $msg_channel) {
        $data = self::getInstance()->createQuery();
        $data->select("*")
             ->where("order_number = ?",$order_number)
             ->andWhere("msg_channel = ?", $msg_channel)
             ->orderBy('msg_time desc');
        $order = $data->fetchOne();
        return $order;
    }
}