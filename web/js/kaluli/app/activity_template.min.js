define("scrollNav",[],function(){function t(t){this.defaults={wrap:".goods-area-content",grid:".goods-area-content .item-categary",scrollobj:".right-srcoll-navs",linkobj:".right-srcoll-navs li",backtotop:".backtoTop"},$.extend(this.defaults,t),this.gridHeight=$(this.defaults.grid).height(),this.gridArea=[]}return t.prototype={init:function(){var t=this;t.moveto(),t.scrollHandle(),t.backtotop(),t.pushArea(),$(window).scroll(function(i){t.scrollHandle()}),$(window).resize(function(i){t.scrollHandle()}),t.Anchorposition("down"),t.scroll(function(i){t.Anchorposition(i)})},scrollHandle:function(){var t=this,i=parseInt($(t.defaults.wrap).offset().top),s=parseInt($(t.defaults.wrap).offset().left),n=parseInt($(window).scrollTop());n>i?(console.log("fs right offset : "+s),$(t.defaults.scrollobj).css({position:"fixed",left:s+1090})):$(t.defaults.scrollobj).css({position:"absolute",right:"-110px"})},pushArea:function(){var t=this;$(t.defaults.grid).each(function(){t.gridArea.push($(this).offset().top)})},Anchorposition:function(t){for(var i=this,s=$(window).height(),n="up"==t||Math.round(s-i.gridHeight)<=0?parseInt($(window).scrollTop()+400):parseInt($(window).scrollTop())+Math.round((s-i.gridHeight)/2+20),e=0;e<i.gridArea.length;e++){if(e==i.gridArea.length-1&&n>=parseInt(i.gridArea[e]))return $(i.defaults.linkobj).eq(e).addClass("scrollon"),!1;n>=parseInt(i.gridArea[e])&&n<parseInt(i.gridArea[e+1])?$(i.defaults.linkobj).eq(e).addClass("scrollon"):$(i.defaults.linkobj).eq(e).removeClass("scrollon")}},scroll:function(t){var i=$(window).scrollTop(),t=t||function(){};$(window).scroll(function(){var s=$(window).scrollTop(),n=s-i;return 0!==n&&(t(n>0?"down":"up"),void(i=s))})},moveto:function(){var t=this;$(t.defaults.linkobj).click(function(){var i=$(this).index(),s=$(t.defaults.grid).eq(i).offset().top;$("body,html").animate({scrollTop:s},600,"swing")})},backtotop:function(){var t=this;$(t.defaults.backtotop).click(function(){$("body,html").animate({scrollTop:"0px"},600,"swing")})}},t});var scrollNav=new scrollNav;scrollNav.init(),define("picScroll",[],function(){var t=function(){var t=arguments,i={css:{width:490,height:170},config:{time:3e3,type:"fade",speed:600,button:!0,butArr:".J_ui_picSwitch .J_ui_a li"},before:function(t){},after:function(t){}};return this.each(function(){var s=$(this),n=function(t){return s.find(t)},e={list:0,options:["top","left","fade"],animated:!1,init:function(){if(this.arrays=[],this.arrays[0]=$.extend(!0,{},i,arguments[0]||{}),this.ul=n(".J_ui_post"),this.li=n(".J_ui_post li"),this.but=this.arrays[0].config.butArr,this.options.index(this.arrays[0].config.type)!==-1){for(var t=0;t<this.arrays.length;t++)switch(typeof this.arrays[t]){case"object":s.css(this.arrays[t].css),this.li.css(this.arrays[t].css),this.returnBefore=this.arrays[t].before,this.returnAfter=this.arrays[t].after}this.config("move"),this.bindFun(),this.arrays[0].completes&&this.arrays[0].completes(s)}else $.error=console.error,$.error("参数格式不正确！")},config:function(t){var i=this,n=0,e=i.but.split(","),o=i.arrays[0].config,r="top"==o.type?["top"]:["left"];for("left"==o.type||"top"==o.type?("left"==o.type&&(i.ul.addClass("J_ui_postFloat"),i.ul.width(s.width()*i.li.length)),i.list==i.li.length&&("top"==o.type?i.li.first().css(r[0],i.ul.height()):i.li.first().css(r[0],i.ul.width()),i.callback=function(){i.li.first().css(r[0],0),i.ul.css(r[0],0),i.list=0}),i.list==-1&&("top"==o.type?i.li.last().css(r[0],-i.ul.height()):i.li.last().css(r[0],-i.ul.width()),i.callback=function(){i.list=i.li.length-1,i.li.last().css(r[0],0),"top"==o.type?i.ul.css(r[0],-parseInt(s.height())*i.list):i.ul.css(r[0],-parseInt(s.width())*i.list)}),i.scrollA()):"fade"==o.type&&(i.ul.hasClass("J_ui_postPost")||i.ul.addClass("J_ui_postPost"),i.list==i.li.length&&(i.list=0),i.fadeFun());n<e.length;n++)$(e[n]).eq(i.list==i.li.length?0:i.list).siblings().removeClass("on"),$(e[n]).eq(i.list==i.li.length?0:i.list).addClass("on")},scrollA:function(){this.animated=!0;var t,i=this,n=i.arrays[0].config;clearTimeout(i.t),i.rerurnFun(0),t="top"==n.type?{top:-parseInt(s.height())*i.list}:{left:-parseInt(s.width())*i.list},i.ul.stop(!0).textAnimation({css:t,config:n,callback:function(){i.callback&&(i.callback(),i.callback=null),i.animated=!1,i.rerurnFun(1)}}),i.setTime()},fadeFun:function(){var t=this;clearTimeout(t.t),t.rerurnFun(0),t.li.css("opacity",1),t.li.eq(t.list).siblings().stop(!0).fadeOut(t.arrays[0].config.speed),t.li.eq(t.list).fadeIn(t.arrays[0].config.speed,function(){t.rerurnFun(1)}),t.setTime()},bindFun:function(){var t=this;$(t.but).hover(function(){t.list=$(this).index(),t.config("stop"),clearTimeout(t.t)},function(){t.setTime()}),t.li.hover(function(){clearTimeout(t.t)},function(){t.setTime()}),t.arrays[0].config.button?(n(".J_ui_butPost_a").click(function(){return!t.animated&&(t.list-=1,void t.config("move"))}),n(".J_ui_butPost_b").click(function(){return!t.animated&&(t.list+=1,void t.config("move"))})):(n(".J_ui_butPost_b").remove(),n(".J_ui_butPost_a").remove())},rerurnFun:function(t){t?!!this.returnAfter&&this.returnAfter(this.list==this.li.length?0:this.list):!!this.returnBefore&&this.returnBefore(this.list==this.li.length?0:this.list)},setTime:function(){var t=this;t.t=setTimeout(function(){t.list+=1,t.config("move")},t.arrays[0].config.time)}};e.init.apply(e,t)})},i={css:{top:0},config:{speed:800,easing:"swing",time:0}},s=function(t){return this.each(function(){var s=$(this),n=$.extend(!0,{},i,t);s.animate(n.css,n.config.speed,n.config.easing,function(){!!n.callback&&n.callback()})})};$.extend(Array.prototype,{has:function(t){return this.index(t)!==-1},index:function(t){if(this.indexOf)return this.indexOf(t);for(var i=0,s=this.length;i<s;i++)if(t==this[i])return i;return-1}}),$.fn.extend({textAnimation:s,slide:t})}),requirejs.config({baseUrl:"//kaluli.hoopchina.com.cn/js/kaluli/",paths:{scrollNav:"modules/activity_template/activity_template",picScroll:"lib/picScroll"},urlArgs:"v="+("undefined"!=typeof GV?GV.VERSION:(new Date).getTime())}),require(["scrollNav","picScroll"],function(t,i){var s=new t;s.init(),$(".goods-list li:nth-child(4n)").css("margin-right","0"),$(".hot-activety li:last-child").css("margin-right","0")}),define("app/activity_template",function(){});