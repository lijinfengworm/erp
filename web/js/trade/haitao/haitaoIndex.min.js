$(function(){$(".list-item li").hover(function(e){e.preventDefault();var ihoverClass=$(this).find("i").attr("class")+"-hover",index=$(this).index();$(".list-item li").removeClass("block");$(this).addClass("block");$(this).find("i").attr("class",ihoverClass);$(this).find("s").attr("class","");if($(".section:eq("+index+")").length!=0){$(".nav-grid").addClass("block")}$(".section,.ad-img").removeClass("block");$(".section:eq("+index+")").addClass("block");$(".section:eq("+index+")").find(".ad-img").addClass("block")},function(e){if("undefined"!=typeof $(e.relatedTarget).attr("class")&&$(e.relatedTarget).attr("class").indexOf("section")>=0){return false}$(".nav-grid").removeClass("block");$(".list-item li").removeClass("block");var iClassname=$(this).find("i").attr("class").replace("-hover","");$(this).find("i").attr("class",iClassname);$(this).find("s").attr("class","icon-arrow")});$(".nav-grid").hover(function(e){e.preventDefault();$(".nav-grid").addClass("block")},function(e){var index=$("> .block",this).index(),length=index+1;$("i",".list-item li:eq("+index+")").attr("class","icon-tag"+length);$("s",".list-item li:eq("+index+")").attr("class","icon-arrow");$(".nav-grid,.section").removeClass("block");$(".list-item li").removeClass("block")});$(".J_ui_picSwitch").slide({css:{"width":627,"height":250},config:{"time":5000,"type":"left","speed":600,"button":true,"butArr":".J_ui_picSwitch .J_ui_a li"},completes:function(o){$(".J_ui_picSwitch").hover(function(){$(".J_ui_butPost_a,.J_ui_butPost_b").show()},function(){$(".J_ui_butPost_a,.J_ui_butPost_b").hide()})}});$(".js_block_list,.youhui_list,.banner_block_list").find("li").hover(function(){$(this).addClass("on");$(this).css("z-index",10)},function(){$(this).removeClass("on");$(this).css("z-index",1)});var month=$(".tejia").attr("data-month"),day=$(".tejia").attr("data-day");var monthnum,daynum;if(month<10){monthnum='<span class="icon-'+month+'"></span>'}else{monthnum='<span class="icon-'+month.slice(0,1)+'"></span><span class="icon-'+month.slice(1)+'"></span>'}if(day<10){daynum='<span class="icon-'+day+'"></span>'}else{daynum='<span class="icon-'+day.slice(0,1)+'"></span><span class="icon-'+day.slice(1)+'"></span>'}var ele="<ul>                    <li>"+monthnum+'</li>                    <li><span class="icon-month"></span></li>                    <li>'+daynum+'</li>                    <li><span class="icon-day"></span></li>                </ul>';$(".timewrap").append(ele);goodsList.init()});var goodsList={list:0,all:$("#good-ul").find("ul").length-1,init:function(){this.bindFun()},bindFun:function(){var left=627,that=this;$(".prev").click(function(){if(that.list>0){that.list--;$("#good-ul").animate({left:-that.list*left},500);if(that.list==0){$(this).css("opacity",0.5)}if(that.list<=that.all){$(".next").css("opacity",1)}}});$(".next").click(function(){if(that.list<that.all){that.list++;$("#good-ul").animate({left:-that.list*left},500);if(that.list==that.all){$(this).css("opacity",0.5)}if(that.list>0){$(".prev").css("opacity",1)}}})}};!(function($){var picScroll=function(){var arg=arguments,defaults={css:{"width":627,"height":250},config:{"time":3000,"type":"fade","speed":800,"button":false,"butArr":".J_ui_picSwitch .J_ui_a li"},before:function(data){},after:function(data){}};return this.each(function(){var $this=$(this),$$=function(a){return $this.find(a)},animates={list:0,options:["top","left","fade"],animated:false,init:function(){this.arrays=[];this.arrays[0]=$.extend(true,{},defaults,arguments[0]||{});this.ul=$$(".J_ui_post");this.li=$$(".J_ui_post li");this.but=this.arrays[0].config.butArr;if(this.options.index(this.arrays[0].config.type)!==-1){for(var i=0;i<this.arrays.length;i++){switch(typeof this.arrays[i]){case"object":$this.css(this.arrays[i].css);this.li.css(this.arrays[i].css);this.returnBefore=this.arrays[i].before;this.returnAfter=this.arrays[i].after;break;default:}}this.config("move");this.bindFun();if(this.arrays[0].completes){this.arrays[0].completes($this)}}else{$.error=console.error;$.error("参数格式不正确！")}},config:function(str){var that=this,i=0,butArr=that.but.split(","),con=that.arrays[0].config,arr=(con.type=="top"?["top"]:["left"]);if(con.type=="left"||con.type=="top"){if(con.type=="left"){that.ul.addClass("J_ui_postFloat");that.ul.width($this.width()*that.li.length)}if(that.list==that.li.length){con.type=="top"?that.li.first().css(arr[0],that.ul.height()):that.li.first().css(arr[0],that.ul.width());that.callback=function(){that.li.first().css(arr[0],0);that.ul.css(arr[0],0);that.list=0}}if(that.list==-1){con.type=="top"?that.li.last().css(arr[0],-that.ul.height()):that.li.last().css(arr[0],-that.ul.width());that.callback=function(){that.list=that.li.length-1;that.li.last().css(arr[0],0);con.type=="top"?that.ul.css(arr[0],-parseInt($this.height())*that.list):that.ul.css(arr[0],-parseInt($this.width())*that.list)}}that.scrollA()}else{if(con.type=="fade"){if(!that.ul.hasClass("J_ui_postPost")){that.ul.addClass("J_ui_postPost")}if(that.list==that.li.length){that.list=0
}that.fadeFun()}}for(;i<butArr.length;i++){$(butArr[i]).eq(that.list==that.li.length?0:that.list).siblings().removeClass("on");$(butArr[i]).eq(that.list==that.li.length?0:that.list).addClass("on")}},scrollA:function(){this.animated=true;var that=this,textCss,con=that.arrays[0].config;clearTimeout(that.t);that.rerurnFun(0);con.type=="top"?textCss={"top":-parseInt($this.height())*that.list}:textCss={"left":-parseInt($this.width())*that.list};that.ul.stop(true).textAnimation({"css":textCss,"config":con,callback:function(){if(that.callback){that.callback();that.callback=null}that.animated=false;that.rerurnFun(1)}});that.setTime()},fadeFun:function(){var that=this;clearTimeout(that.t);that.rerurnFun(0);that.li.css("opacity",1);that.li.eq(that.list).siblings().stop(true).fadeOut(that.arrays[0].config.speed);that.li.eq(that.list).fadeIn(that.arrays[0].config.speed,function(){that.rerurnFun(1)});that.setTime()},bindFun:function(){var that=this;$(that.but).hover(function(){that.list=$(this).index();that.config("stop");clearTimeout(that.t)},function(){that.setTime()});that.li.hover(function(){clearTimeout(that.t)},function(){that.setTime()});if(that.arrays[0].config.button){$$(".J_ui_butPost_a").click(function(){if(that.animated){return false}else{that.list-=1;that.config("move")}});$$(".J_ui_butPost_b").click(function(){if(that.animated){return false}else{that.list+=1;that.config("move")}})}else{$$(".J_ui_butPost_b").remove();$$(".J_ui_butPost_a").remove()}},rerurnFun:function(num){if(num){!!this.returnAfter&&this.returnAfter(this.list==this.li.length?0:this.list)}else{!!this.returnBefore&&this.returnBefore(this.list==this.li.length?0:this.list)}},setTime:function(){var that=this;that.t=setTimeout(function(){that.list+=1;that.config("move")},that.arrays[0].config.time)}};animates.init.apply(animates,arg)})};var defaults={css:{"top":0},config:{speed:800,easing:"swing",time:0}},textAnimation=function(a){return this.each(function(){var $this=$(this),settings=$.extend(true,{},defaults,a);$this.animate(settings.css,settings.config.speed,settings.config.easing,function(){!!settings.callback&&settings.callback()})})};$.extend(Array.prototype,{has:function(value){return this.index(value)!==-1},index:function(value){if(this.indexOf){return this.indexOf(value)}for(var i=0,l=this.length;i<l;i++){if(value==this[i]){return i}}return -1}});$.fn.extend({textAnimation:textAnimation,slide:picScroll})})(jQuery);