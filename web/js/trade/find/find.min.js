$(function(){$(".J_ui_picSwitch").slide({css:{width:880,height:330},config:{time:5E3,type:"left",speed:600,button:!0,butArr:".J_ui_picSwitch .J_ui_a li"},completes:function(){$(".J_ui_picSwitch").hover(function(){$(".J_ui_butPost_a,.J_ui_butPost_b").show()},function(){$(".J_ui_butPost_a,.J_ui_butPost_b").hide()})}});$(".find-box .find-tag .list li").hover(function(){$(this).addClass("on")},function(){$(this).removeClass("on")});nav.init()});
var nav={list:children_menu.root_offset,init:function(){0!=children_menu.root_offset&&($("#floor").find(".small").show(),this.getDom(children_menu.root_offset,!0));this.hovers()},getDom:function(b,c){for(var e=[],f=children_menu.data[b-1],d=parseInt($("#floor").find(".t").eq(b).position().left),h=0;h<f.length;h++)e.push('<a href="'+f[h].url+'#floor">'+f[h].name+"</a>");$("#floor").find(".small").find(".font").html(e.join(""));(c||b==children_menu.root_offset)&&null!=children_menu.child_offset&&$("#floor").find(".small").find(".font a").eq(children_menu.child_offset).addClass("on");
4<b?$("#floor").find(".small").find(".font").removeAttr("style").css("right",5):$("#floor").find(".small").find(".font").css("left",d)},hovers:function(){var b=this,c,e=$("#floor").find(".t");e.mouseover(function(){clearTimeout(c);0!=$(this).index()?($("#floor").find(".small").show(),$(this).addClass("on"),$(this).siblings().removeClass("on"),b.getDom($(this).index())):($(this).addClass("on"),$(this).siblings().removeClass("on"),$("#floor").find(".small").hide())});e.mouseout(function(){var f=$(this);
c=setTimeout(function(){e.eq(b.list).addClass("on");e.eq(b.list).siblings().removeClass("on");0==b.list?$("#floor").find(".small").hide():$("#floor").find(".small").show();0!=f.index()&&0!=b.list&&b.getDom(b.list)},200)});$("#floor").find(".small").mouseover(function(){clearTimeout(c)});$("#floor").find(".small").mouseout(function(){c=0==b.list?setTimeout(function(){e.eq(b.list).addClass("on");e.eq(b.list).siblings().removeClass("on");$("#floor").find(".small").hide()},200):setTimeout(function(){e.eq(b.list).addClass("on");
e.eq(b.list).siblings().removeClass("on");b.getDom(b.list)},200)});$(window).scroll(function(){b.getpageScroll()>$(".find-tag").offset().top?($("#floor").addClass("list-title2"),$("#floor").css({left:$(".find-tag").offset().left})):($("#floor").removeClass("list-title2"),$("#floor").css({left:0}))})},getpageScroll:function(){var b;self.pageYOffset?b=self.pageYOffset:document.documentElement&&document.documentElement.scrollTop?b=document.documentElement.scrollTop:document.body&&(b=document.body.scrollTop);
return b}};
!function(b){var c={css:{top:0},config:{speed:800,easing:"swing",time:0}};b.extend(Array.prototype,{has:function(b){return-1!==this.index(b)},index:function(b){if(this.indexOf)return this.indexOf(b);for(var f=0,d=this.length;f<d;f++)if(b==this[f])return f;return-1}});b.fn.extend({textAnimation:function(e){return this.each(function(){var f=b(this),d=b.extend(!0,{},c,e);f.animate(d.css,d.config.speed,d.config.easing,function(){d.callback&&d.callback()})})},slide:function(){var e=arguments,f={css:{width:490,
height:170},config:{time:3E3,type:"fade",speed:800,button:!1,butArr:".J_ui_picSwitch .J_ui_a li"},before:function(){},after:function(){}};return this.each(function(){var d=b(this),c={list:0,options:["top","left","fade"],animated:!1,init:function(a){this.arrays=[];this.arrays[0]=b.extend(!0,{},f,a||{});this.ul=d.find(".J_ui_post");this.li=d.find(".J_ui_post li");this.but=this.arrays[0].config.butArr;if(-1!==this.options.index(this.arrays[0].config.type)){for(a=0;a<this.arrays.length;a++)switch(typeof this.arrays[a]){case "object":d.css(this.arrays[a].css),
this.li.css(this.arrays[a].css),this.returnBefore=this.arrays[a].before,this.returnAfter=this.arrays[a].after}this.config("move");this.bindFun();this.arrays[0].completes&&this.arrays[0].completes(d)}else b.error=console.error,b.error("参数格式不正确！")},config:function(){var a=this,e=0,f=a.but.split(","),c=a.arrays[0].config,g="top"==c.type?["top"]:["left"];"left"==c.type||"top"==c.type?("left"==c.type&&(a.ul.addClass("J_ui_postFloat"),a.ul.width(d.width()*a.li.length)),a.list==a.li.length&&("top"==c.type?
a.li.first().css(g[0],a.ul.height()):a.li.first().css(g[0],a.ul.width()),a.callback=function(){a.li.first().css(g[0],0);a.ul.css(g[0],0);a.list=0}),-1==a.list&&("top"==c.type?a.li.last().css(g[0],-a.ul.height()):a.li.last().css(g[0],-a.ul.width()),a.callback=function(){a.list=a.li.length-1;a.li.last().css(g[0],0);c.type=="top"?a.ul.css(g[0],-parseInt(d.height())*a.list):a.ul.css(g[0],-parseInt(d.width())*a.list)}),a.scrollA()):"fade"==c.type&&(a.ul.hasClass("J_ui_postPost")||a.ul.addClass("J_ui_postPost"),
a.list==a.li.length&&(a.list=0),a.fadeFun());for(;e<f.length;e++)b(f[e]).eq(a.list==a.li.length?0:a.list).siblings().removeClass("on"),b(f[e]).eq(a.list==a.li.length?0:a.list).addClass("on")},scrollA:function(){this.animated=!0;var a=this,b,c=a.arrays[0].config;clearTimeout(a.t);a.rerurnFun(0);"top"==c.type?b={top:-parseInt(d.height())*a.list}:b={left:-parseInt(d.width())*a.list};a.ul.stop(!0).textAnimation({css:b,config:c,callback:function(){a.callback&&(a.callback(),a.callback=null);a.animated=
!1;a.rerurnFun(1)}});a.setTime()},fadeFun:function(){var a=this;clearTimeout(a.t);a.rerurnFun(0);a.li.css("opacity",1);a.li.eq(a.list).siblings().stop(!0).fadeOut(a.arrays[0].config.speed);a.li.eq(a.list).fadeIn(a.arrays[0].config.speed,function(){a.rerurnFun(1)});a.setTime()},bindFun:function(){var a=this;b(a.but).hover(function(){a.list=b(this).index();a.config("stop");clearTimeout(a.t)},function(){a.setTime()});a.li.hover(function(){clearTimeout(a.t)},function(){a.setTime()});a.arrays[0].config.button?
(d.find(".J_ui_butPost_a").click(function(){if(a.animated)return!1;a.list-=1;a.config("move")}),d.find(".J_ui_butPost_b").click(function(){if(a.animated)return!1;a.list+=1;a.config("move")})):(d.find(".J_ui_butPost_b").remove(),d.find(".J_ui_butPost_a").remove())},rerurnFun:function(a){a?this.returnAfter&&this.returnAfter(this.list==this.li.length?0:this.list):this.returnBefore&&this.returnBefore(this.list==this.li.length?0:this.list)},setTime:function(){var a=this;a.t=setTimeout(function(){a.list+=
1;a.config("move")},a.arrays[0].config.time)}};c.init.apply(c,e)})}})}(jQuery);
